<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
{#    <meta name="viewport" content="width=device-width, initial-scale=1">#}
    <title>Quản Lý Xe</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='icon/volang.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fa/css/all.css') }}">
</head>
<body>
<div class="container shadow p-3 mb-5 bg-white rounded" >
    <nav class="navbar bg-dark ">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
    <br>
    <table class="table table-striped table-hover table-bordered" id="table-danh-sach-xe">
        <thead>
        <tr>
            <th scope="col">STT</th>
            <th scope="col">Ngày nhập</th>
            <th scope="col">Mã xe</th>
            <th scope="col">Hãng xe</th>
            <th scope="col">Tên xe</th>
            <th scope="col">Giá bán</th>
            <th scope="col">Trạng thái</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>
<div id="demo">
<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc()">Change Content</button>
</div>
<script>
     function loadDoc() {
         $.ajax({
             url : '{{ url_for('danh_sach_xe_post_danh_sanh_xe_all') }}',
             type : 'POST',
             success: function (response){
                 let data_tables = JSON.parse(response)
                 let stt = 0
                 console.log(data_tables)
                 data_tables.forEach(data_table => {
                     stt += 1
                     var date = data_table.PRODUCT_GET_DATE.split('-')
                     console.log(date)
                     var date_new = date[2] + '-' + date[1] + '-' + date[0]
                     console.log(data_table.PRODUCT_BRAND_ID)
                     $( "#table-danh-sach-xe tr:last").after(
                         '<tr>' +
                         '<td>'+ stt +'</td>' +
                         '<td>'+ date_new +'</td>' +
                         '<td><a>'+ data_table.PRODUCT_ID_NUMBER +'</a></td>' +
                         '<td>'+ data_table.PRODUCT_BRAND_NAME +'</td>' +
                         '<td>'+ data_table.PRODUCT_NAME +'</td>' +
                         '<td>'+ data_table.PRODUCT_VALUE_3 +'</td>' +
                         '<td>'+ data_table.PRODUCT_STATUS +'</td>' +
                         '</tr>')
                 });

             },
             error: function (error){
                 console.log(error);
             }

         });

     };


</script>



<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>

</body>
</html>